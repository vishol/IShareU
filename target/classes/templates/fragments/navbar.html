<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <link rel="stylesheet" th:href="@{/ishareu.css}" />
</head>
<body>
    <div th:fragment="navbar">
        <!-- User Navbar - Show for authenticated users on non-admin pages -->
        <nav class="navbar navbar-expand-lg mb-4" sec:authorize="isAuthenticated() and !hasRole('ADMIN')">
            <div class="container-fluid px-4">
                <a class="navbar-brand d-flex align-items-center" th:href="@{/}">
                    <img src="/ishareu_logo.jpg" alt="IShareU Logo" style="width:40px;height:32px;margin-right:0.75rem;border-radius:8px;"/>                    
                    <span>IShareU</span>
                </a>
                <div class="d-flex align-items-center gap-2">
                    <a th:href="@{/dashboard}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-speedometer2 me-2"></i>
                        <span class="d-none d-md-inline">Dashboard</span>
                    </a>
                    <a th:href="@{/file/upload}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-cloud-upload me-2"></i>
                        <span class="d-none d-md-inline">Upload</span>
                    </a>
                    <a th:href="@{/user/details}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-person-circle me-2"></i>
                        <span class="d-none d-md-inline">My Account</span>
                    </a>
                    <a th:href="@{/logout}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-box-arrow-right me-2"></i>
                        <span class="d-none d-md-inline">Logout</span>
                    </a>
                </div>
            </div>
        </nav>
        
        <!-- Admin Navbar - Show for authenticated users who are admins -->
        <nav class="navbar navbar-expand-lg admin-navbar mb-4" sec:authorize="isAuthenticated() and hasRole('ADMIN')">
            <div class="container-fluid px-4">
                <a class="navbar-brand d-flex align-items-center" th:href="@{/admin/dashboard}">
                    <img src="/ishareu_logo.jpg" alt="IShareU Logo" style="width:32px;height:32px;margin-right:0.75rem;border-radius:8px;"/>
                    <span>IShareU</span>
                    <span class="ms-2 badge bg-light text-dark px-2 py-1" style="font-size:0.7rem;">Admin</span>
                </a>
                <div class="d-flex align-items-center gap-2">
                    <a th:href="@{/admin/users}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-people me-2"></i>
                        <span class="d-none d-md-inline">Users</span>
                    </a>
                    <a th:href="@{/admin/files}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-folder2-open me-2"></i>
                        <span class="d-none d-md-inline">Files</span>
                    </a>
                    <a th:href="@{/logout}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-box-arrow-right me-2"></i>
                        <span class="d-none d-md-inline">Logout</span>
                    </a>
                </div>
            </div>
        </nav>
        
        <!-- Anonymous User Navbar -->
        <nav class="navbar navbar-expand-lg mb-4" sec:authorize="isAnonymous()">
            <div class="container-fluid px-4">
                <a class="navbar-brand d-flex align-items-center" th:href="@{/}">
                    <img src="/ishareu_logo.jpg" alt="IShareU Logo" style="width:40px;height:32px;margin-right:0.75rem;border-radius:8px;"/>
                    <span>IShareU</span>
                </a>
                <div class="d-flex align-items-center gap-3">
                    <a th:href="@{/login}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-box-arrow-in-right me-2"></i>
                        <span>Login</span>
                    </a>
                    <a th:href="@{/signup}" class="btn btn-ishareu d-flex align-items-center">
                        <i class="bi bi-person-plus me-2"></i>
                        <span>Sign up</span>
                    </a>
                </div>
            </div>
        </nav>
    </div>
</body>
</html> 